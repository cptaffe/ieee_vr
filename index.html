<html>
	<head>
		<link type="text/css" href="style.css" rel="stylesheet"/>
		<meta name="google-site-verification" content="a3A-3926CLdwHsXz0T40Z108f9qHOinDYnUdMml_6D4" />
	</head>
	<body>
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

		<!-- Google Analytics -->

		<script>
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		  ga('create', 'UA-50530549-1', 'auto');
		  ga('send', 'pageview');
		</script>

		<!-- Lame JavaScript -->

		<script>
		// konami
		var konami = 0;
		function konami_code(e) {
			if (konami < 2) {
				if(e.which == 38){konami++;} // up, up
				else {konami = 0;}
			} else if (konami >= 2 && konami < 4) {
				if(e.which == 40){konami++;} // down, down
				else {konami = 0;}
			} else if (konami == 4 || konami == 6) {
				if(e.which == 37){konami++;} // left
				else {konami = 0;}
			} else if (konami == 5 || konami == 7) {
				if(e.which == 39){konami++;} // right
				else {konami = 0;}
			} else if (konami == 8) {
				if(e.which == 66){konami++;} // B
				else {konami = 0;}
			} else if (konami == 9) {
				if(e.which == 65){konami++;} // A
				else {konami = 0;}
			} else if (konami == 10) {
				if (e.which == 13) {
					loadPage("Konami");
					$("#num").html("konami(↑↑↓↓←→←→ba↩)");
					konami = 0;
				}
			}
		}

		var sites = ["Ramblings", "Projects"];
		var index = 1; //Math.round(Math.random() * (sites.length - 1));

		// future dsq_reset function
		var dsq_reset;

		function loadPage(str) {
			var page = $("#viewer-thingy");
			$("#num").html("");
			page.fadeOut(300, function () {
				// timestamp to combat caching
				page.load("pages/"+str+".html?time="+new Date().getTime(), function () {
					page.fadeIn(300);
				});
			});

			// page url change
			location.hash = "#!" + str;
		}

		function nextPage () {
			index = (index + 1) % sites.length;
			loadPage(sites[index]);
		}

		function prevPage () {
			index = (index + (sites.length - 1)) % sites.length;
			loadPage(sites[index]);
		}

		var keypressFunc = function(e) {
			if ((e.keyCode >= 48 && e.keyCode <= 57) || (e.keyCode >= 96 && e.keyCode <= 105)) {
				var key = e.keyCode;
				if (e.keyCode >= 48 && e.keyCode <= 57) {
					key -= 48;
				} else if (e.keyCode >= 96 && e.keyCode <= 105) {
					key -= 96;
				}
				loadPage(sites[key]);
			} else {
				if (konami > 0){konami_code(e);}
				switch(e.which) {
					case 37: // left
					prevPage();
					break;

					case 39: // right
					nextPage();
					break;

					case 38: // first konami code char
					if (konami == 0){konami_code(e);}
					break;

					default: return; // exit this handler for other keys
				}
			}
			e.preventDefault(); // prevent the default action (scroll / move caret)
		};

		// keypress stuff
		$(document).keydown(keypressFunc);

		// get value from hash
		function getHashValue() {
			return location.hash.match(new RegExp('!([^&]*)'))[1];
		}

		// load default page & set hash or
		$(function () {
			var page;
			if (location.hash != "" &&
				(page = getHashValue()) &&
				page != "" &&
				$.inArray(page, sites) > -1) {
				loadPage(page);
			} else {
				loadPage(sites[index]);
			}
		})
		</script>
		<noscript>Yo bro, we need js.</noscript>

		<!-- Console Message -->
		<script>
		console.log("try: konami(↑↑↓↓←→←→ba↩)");
		</script>

		<h1 id='begin'>void main () {</h1>

		<!-- Links -->
		<h2>print("Hello!");</h2>
		<article>
			<p>
				Welcome, here are a couple of pages you might be interested in:
			</p> <p>
				<a onclick="loadPage('Ramblings');">Ramblings</a>: a page of poorly written stuffs.
			</p> <p>
				<a onclick="loadPage('Projects');">Projects</a>: a page of more poorly written stuffs, this time with code.
			</p>
		</article>
		<div id="buttons">
			<div onclick="prevPage();">prev</div>
			<div onclick="nextPage();">next</div>
		</div>

		<!-- Stuffs goes here -->
		<div id="viewer-thingy">

		</div>

		<h1 id='end'>}</h1>

	</body>
</html>
